!function(e){function t(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e),this.pressing=[],this.lastPress=null,this.x=0,this.y=0,this.KEY_LEFT=37,this.KEY_UP=38,this.KEY_RIGHT=39,this.KEY_DOWN=40,this.KEY_ENTER=13,this.KEY_SPACE=32}return s(e,[{key:"listen",value:function(){var e=this;document.addEventListener("keyup",function(t){e.pressing[t.keyCode]=!1},!1),document.addEventListener("keydown",function(t){e.lastPress=t.keyCode,e.pressing[t.keyCode]=!0},!1)}}]),e}();t.KeyBoard=new r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n,s,r){i(this,e),this.x=void 0===t?0:t,this.y=void 0===n?0:n,this.width=void 0===s?0:s,this.height=void 0===r?this.width:r}return s(e,[{key:"intersects",value:function(e){if(void 0!==e)return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y;window.console.warn("Missing parameters on function intersects")}},{key:"rectCollision",value:function(e){if(void 0!==e)return this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y;window.console.warn("Missing parameters on function intersects")}},{key:"fill",value:function(e){void 0===e?window.console.warn("Missing parameters on function fill"):e.fillRect(this.x,this.y,this.width,this.height)}},{key:"drawImage",value:function(e,t){void 0===t?window.console.warn("Missing parameters on function drawImage"):t.width?e.drawImage(t,this.x,this.y):e.strokeRect(this.x,this.y,this.width,this.height)}},{key:"drawImageArea",value:function(e,t,n,i,s,r){t.width?e.drawImage(t,n,i,s,r,this.x,this.y,this.width,this.height):e.strokeRect(this.x,this.y,this.width,this.height)}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return s(e,null,[{key:"max",value:function(e){return Math.floor(Math.random()*e)}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=document.getElementById("canvas"),s=i.getContext("2d");console.log("Arena Created"),t.canvas=i,t.ctx=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),h=(n(0),function(e){function t(e,n,r,a){i(this,t);var o=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a));return o.timer=0,o}return r(t,e),a(t,[{key:"update",value:function(){this.moveShots()}},{key:"moveShots",value:function(){this.y-=10}}]),t}(u.default));t.default=h},function(e,t,n){"use strict";var i=n(0),s=n(6),r=function(e){return e&&e.__esModule?e:{default:e}}(s);window.onload=function(){var e=new r.default;i.KeyBoard.listen(),e.init()}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(2),o=i(a),u=n(7),h=i(u),l=n(0),c=n(3),f=n(8),p=i(f),y=n(9),d=i(y),v=n(4),w=(i(v),n(10)),g=i(w),m=n(11),b=i(m),x=n(12),_=n(13),k=function(){function e(){s(this,e),this.state=null,this.player1=null,this.stars=[],this.powerUps=[],this.spritesheet=new Image,this.gun=new Image,this.gun.src="../../shipsEcma6/src/assets/gun.png",this.starImg=new Image,this.starImg.src="../../shipsEcma6/src/assets/star.png",this.highscores=[],localStorage.setItem("highscores",JSON.stringify(this.highscores)),this.storedHighScores=JSON.parse(localStorage.getItem("highscores")),this.spritesheet.src="../../shipsEcma6/src/assets/spritesheet.png"}return r(e,[{key:"init",value:function(){this.createArena(),this.update()}},{key:"checkState",value:function(){var e="pause"===this.state;if(l.KeyBoard.lastPress===l.KeyBoard.KEY_ENTER){var t="playing"===this.state,n="over"===this.state;e?this.state="playing":t?this.state="pause":n&&(this.createArena(),this.state="playing")}e&&(c.ctx.textAlign="center",c.ctx.fillStyle="white",c.ctx.fillText("PAUSE",150,75),c.ctx.textAlign="left")}},{key:"update",value:function(){this.checkScene(),this.checkState(),this.render(),this.resume(),this.pause(),setTimeout(this.update.bind(this),40)}},{key:"checkScene",value:function(){var e=l.KeyBoard.lastPress===l.KeyBoard.KEY_ENTER;"main"===this.scene?((0,x.paintMainScene)(c.ctx),e&&(this.scene="playing",l.KeyBoard.lastPress=null)):0==this.player1.health&&(this.scene="gameover","playing"===this.state&&(this.highscores.push(this.player1.score),localStorage.setItem("highscores",JSON.stringify(this.highscores)),this.storedHighScores=JSON.parse(localStorage.getItem("highscores")),this.storedHighScores=h.default.Order(this.highscores)),this.state="over",(0,_.paintHighScoresScene)(c.ctx,this.storedHighScores),e&&(this.scene="playing",this.state="playing",this.createArena(),l.KeyBoard.lastPress=null))}},{key:"pause",value:function(){l.KeyBoard.lastPress=null}},{key:"render",value:function(){if("playing"===this.scene){c.ctx.fillStyle="#000",c.ctx.fillRect(0,0,c.canvas.width,c.canvas.height);for(var e=0;e<200;e++)this.stars[e].render(c.ctx);this.player1.drawImageArea(c.ctx,this.spritesheet,0,0,10,10);for(var e=0,t=this.enemies.length;e<t;e++)this.enemies[e].drawImageArea(c.ctx,this.spritesheet,30,0,10,10);for(var e=0,t=this.player1.shots.length;e<t;e++)this.player1.shots[e].drawImageArea(c.ctx,this.spritesheet,70,0,10,10);for(var e=0,t=this.powerUps.length;e<t;e++)this.powerUps[e].render(c.ctx,this.gun,this.starImg);c.ctx.fillStyle="#fff",c.ctx.textAlign="left",c.ctx.fillText("Score: "+this.player1.score,10,20),c.ctx.fillStyle="#fff",c.ctx.textAlign="left",c.ctx.fillText("Lives: "+this.player1.health,c.canvas.width-45,20),"pause"===this.state&&(c.ctx.textAlign="center",c.ctx.fillStyle="white",c.ctx.fillText("PAUSE",150,75),c.ctx.textAlign="left")}}},{key:"resume",value:function(){if("playing"===this.state&&"playing"==this.scene){this.player1.update();for(var e=0,t=this.player1.shots.length;e<t;e++)this.player1.shots[e].update();for(var e=0,t=this.enemies.length;e<t;e++){this.enemies[e].update(this.player1);for(var n=0,i=this.player1.shots.length;n<i;n++)if(this.player1.shots[n].rectCollision(this.enemies[e]))if(this.enemies[e].health--,this.player1.shots.splice(n--,1),i--,0==this.enemies[e].health){this.player1.score++;var s=o.default.max(20);s<5&&(0==s?this.powerUps.push(new b.default(this.enemies[e].x,this.enemies[e].y,10,10,1)):this.powerUps.push(new b.default(this.enemies[e].x,this.enemies[e].y,10,10,0))),this.enemies[e].x=10*o.default.max(c.canvas.width/10),this.enemies[e].y=0,this.enemies[e].health=2,this.enemies.push(new d.default(10*o.default.max(c.canvas.width/10),0,10,10))}else this.enemies[e].timer=1}for(var e=0,t=this.stars.length;e<t;e++)this.stars[e].update();for(var e=0,t=this.powerUps.length;e<t;e++)this.player1.checkPowerUp(this.powerUps[e])&&(this.powerUps.splice(e--,1),t--)}}},{key:"createArena",value:function(){this.scene="main",this.player1=new p.default(90,290,10,10,3),this.enemies=[],this.enemies.push(new d.default(10,20,10,10)),this.enemies.push(new d.default(30,20,10,10)),this.enemies.push(new d.default(50,20,10,10)),this.enemies.push(new d.default(80,0,10,10)),this.enemies.push(new d.default(100,0,10,10)),this.enemies.push(new d.default(120,0,10,10)),this.enemies.push(new d.default(150,20,10,10)),this.enemies.push(new d.default(170,20,10,10)),this.enemies.push(new d.default(190,20,10,10));for(var e=0;e<200;e++){var t=o.default.max(c.canvas.width),n=o.default.max(c.canvas.height),i=new g.default(t,n);this.stars.push(i)}this.state="playing"}}]),e}();t.default=k},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(){i(this,e)}return s(e,null,[{key:"Order",value:function(e){return e.sort(function(e,t){return t-e}),e}}]),e}();t.default=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),h=i(u),l=n(0),c=n(4),f=i(c),p=function(e){function t(e,n,i,a,o){s(this,t);var u=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,a));return u.health=void 0===o?1:o,u.timer=0,u.shots=[],u.multiShot=0,u.score=0,u.state="",u}return a(t,e),o(t,[{key:"update",value:function(){this.movePlayer(),this.checkStatus()}},{key:"movePlayer",value:function(){l.KeyBoard.pressing[l.KeyBoard.KEY_UP]&&(this.y-=10),l.KeyBoard.pressing[l.KeyBoard.KEY_RIGHT]&&(this.x+=10),l.KeyBoard.pressing[l.KeyBoard.KEY_DOWN]&&(this.y+=10),l.KeyBoard.pressing[l.KeyBoard.KEY_LEFT]&&(this.x-=10),l.KeyBoard.lastPress==l.KeyBoard.KEY_SPACE&&(2==this.multiShot?(this.shots.push(new f.default(this.x-9,this.y+2,5,5)),this.shots.push(new f.default(this.x-5,this.y,5,5)),this.shots.push(new f.default(this.x,this.y,5,5)),this.shots.push(new f.default(this.x+5,this.y,5,5)),this.shots.push(new f.default(this.x+9,this.y+2,5,5)),this.shots.push(new f.default(this.x+14,this.y+4,5,5))):1==this.multiShot?(this.shots.push(new f.default(this.x,this.y,5,5)),this.shots.push(new f.default(this.x+5,this.y,5,5))):this.shots.push(new f.default(this.x+3,this.y,5,5)),l.KeyBoard.lastPress=null)}},{key:"checkStatus",value:function(){this.x>canvas.width-10&&(this.x=canvas.width-10),this.x<0&&(this.x=0),this.y>canvas.height-10&&(this.y=canvas.height-10),this.y<0&&(this.y=0),this.timer>0&&(this.timer=this.timer-1),0==this.health&&(this.alive=!1)}},{key:"checkPowerUp",value:function(e){if(e.y+=4,this.intersects(e))return 1==e.type&&this.multiShot<3?this.multiShot++:this.score+=5,!0}}]),t}(h.default);t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=n(1),h=i(u),l=n(2),c=i(l),f=n(3),p=(i(f),function(e){function t(e,n,i,a){s(this,t);var o=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,i,a));return o.health=2,o.timer=0,o}return a(t,e),o(t,[{key:"init",value:function(){}},{key:"update",value:function(e){this.moveEnemy(),this.checkIntersect(e)}},{key:"checkIntersect",value:function(e){e.intersects(this)&&0==e.timer&&(e.health=e.health-1,e.timer=20)}},{key:"moveEnemy",value:function(){this.y+=2,this.timer>0&&this.timer--,this.y>canvas.height&&(this.x=10*c.default.max(canvas.width/10),this.y=0)}}]),t}(h.default));t.default=p},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=n(3),o=(i(a),n(2)),u=i(o),h=function(){function e(t,n){s(this,e),this.x=null==t?0:t,this.y=null==n?0:n}return r(e,[{key:"init",value:function(){++this.y>canvas.height&&(this.y=0)}},{key:"update",value:function(){this.moveStars()}},{key:"moveStars",value:function(){this.y+=.5,this.timer>0&&this.timer--,this.y>canvas.height&&(this.x=10*u.default.max(canvas.width/10),this.y=0)}},{key:"render",value:function(e){e.fillStyle="#fff",e.fillRect(this.x,this.y,1,1)}}]),e}();t.default=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(1),u=function(e){return e&&e.__esModule?e:{default:e}}(o),h=function(e){function t(e,n,r,a,o){i(this,t);var u=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,r,a));return u.type=void 0===o?1:o,u}return r(t,e),a(t,[{key:"update",value:function(){this.movePowerUp()}},{key:"render",value:function(e,t,n){1==this.type?(e.strokeStyle="#f90",this.drawImage(e,t)):(e.strokeStyle="#cc6",this.drawImage(e,n))}},{key:"movePowerUp",value:function(){}}]),t}(u.default);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){e.fillStyle="black",e.fillRect(0,0,canvas.width,canvas.height),e.fillStyle="#fff",e.textAlign="center",e.fillText("SHIPS",100,125),e.fillText("Press Enter",100,175)};t.paintMainScene=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){e.fillStyle="black",e.fillRect(0,0,canvas.width,canvas.height),e.fillStyle="#fff",e.textAlign="center",e.fillText("Game Over",100,20),e.fillText("HIGH SCORE",100,40),e.textAlign="right";for(var n=0,i=t.length;n<i;n+=1)10===n?e.fillText("->   "+t[n],100,60+10*n):e.fillText(t[n],100,60+10*n)};t.paintHighScoresScene=i}]);